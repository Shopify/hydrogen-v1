{"version":3,"file":"786048ce.js","sources":["../../../../../node_modules/@shopify/hydrogen/dist/esnext/utilities/load_script.js","../../../../../node_modules/@shopify/hydrogen/dist/esnext/hooks/useLoadScript/useLoadScript.client.js","../../../../../node_modules/@shopify/hydrogen/dist/esnext/components/ModelViewer/ModelViewer.client.js"],"sourcesContent":["const SCRIPTS_LOADED = {};\nexport function loadScript(src, options) {\n    const isScriptLoaded = SCRIPTS_LOADED[src];\n    if (isScriptLoaded) {\n        return isScriptLoaded;\n    }\n    const promise = new Promise((resolve, reject) => {\n        const script = document.createElement('script');\n        if (options?.module) {\n            script.type = 'module';\n        }\n        script.src = src;\n        script.onload = () => {\n            resolve(true);\n        };\n        script.onerror = () => {\n            reject(false);\n        };\n        document.body.appendChild(script);\n    });\n    SCRIPTS_LOADED[src] = promise;\n    return promise;\n}\n","import { loadScript } from '../../utilities/load_script';\nimport { useState, useEffect } from 'react';\n/**\n * The `useLoadScript` hook loads an external script tag on the client-side.\n */\nexport function useLoadScript(url, options) {\n    const [status, setStatus] = useState('loading');\n    const stringifiedOptions = JSON.stringify(options);\n    useEffect(() => {\n        async function loadScriptWrapper() {\n            try {\n                setStatus('loading');\n                await loadScript(url, options);\n                setStatus('done');\n            }\n            catch (error) {\n                setStatus('error');\n            }\n        }\n        loadScriptWrapper();\n    }, [url, stringifiedOptions, options]);\n    return status;\n}\n","import React, { useState, useEffect, useCallback, } from 'react';\nimport { useLoadScript } from '../../hooks/useLoadScript/useLoadScript.client';\n/**\n * The `ModelViewer` component renders a 3D model (with the `model-viewer` tag) for\n * the Storefront API's [Model3d object](https://shopify.dev/api/storefront/reference/products/model3d).\n */\nexport function ModelViewer(props) {\n    const [modelViewer, setModelViewer] = useState(undefined);\n    const callbackRef = useCallback((node) => {\n        setModelViewer(node);\n    }, []);\n    const { data, id = data.id, children, className, ...passthroughProps } = props;\n    const modelViewerLoadedStatus = useLoadScript('https://unpkg.com/@google/model-viewer@v1.8.0/dist/model-viewer.min.js', {\n        module: true,\n    });\n    useEffect(() => {\n        if (modelViewer == null) {\n            return;\n        }\n        if (passthroughProps.onError)\n            modelViewer.addEventListener('error', passthroughProps.onError);\n        if (passthroughProps.onLoad)\n            modelViewer.addEventListener('load', passthroughProps.onLoad);\n        if (passthroughProps.onPreload)\n            modelViewer.addEventListener('preload', passthroughProps.onPreload);\n        if (passthroughProps.onModelVisibility)\n            modelViewer.addEventListener('model-visibility', passthroughProps.onModelVisibility);\n        if (passthroughProps.onProgress)\n            modelViewer.addEventListener('progress', passthroughProps.onProgress);\n        if (passthroughProps.onArStatus)\n            modelViewer.addEventListener('ar-status', passthroughProps.onArStatus);\n        if (passthroughProps.onArTracking)\n            modelViewer.addEventListener('ar-tracking', passthroughProps.onArTracking);\n        if (passthroughProps.onQuickLookButtonTapped)\n            modelViewer.addEventListener('quick-look-button-tapped', passthroughProps.onQuickLookButtonTapped);\n        if (passthroughProps.onCameraChange)\n            modelViewer.addEventListener('camera-change', passthroughProps.onCameraChange);\n        if (passthroughProps.onEnvironmentChange)\n            modelViewer.addEventListener('environment-change', passthroughProps.onEnvironmentChange);\n        if (passthroughProps.onPlay)\n            modelViewer.addEventListener('play', passthroughProps.onPlay);\n        if (passthroughProps.onPause)\n            modelViewer.addEventListener('ar-status', passthroughProps.onPause);\n        if (passthroughProps.onSceneGraphReady)\n            modelViewer.addEventListener('scene-graph-ready', passthroughProps.onSceneGraphReady);\n        return () => {\n            if (modelViewer == null) {\n                return;\n            }\n            if (passthroughProps.onError)\n                modelViewer.removeEventListener('error', passthroughProps.onError);\n            if (passthroughProps.onLoad)\n                modelViewer.removeEventListener('load', passthroughProps.onLoad);\n            if (passthroughProps.onPreload)\n                modelViewer.removeEventListener('preload', passthroughProps.onPreload);\n            if (passthroughProps.onModelVisibility)\n                modelViewer.removeEventListener('model-visibility', passthroughProps.onModelVisibility);\n            if (passthroughProps.onProgress)\n                modelViewer.removeEventListener('progress', passthroughProps.onProgress);\n            if (passthroughProps.onArStatus)\n                modelViewer.removeEventListener('ar-status', passthroughProps.onArStatus);\n            if (passthroughProps.onArTracking)\n                modelViewer.removeEventListener('ar-tracking', passthroughProps.onArTracking);\n            if (passthroughProps.onQuickLookButtonTapped)\n                modelViewer.removeEventListener('quick-look-button-tapped', passthroughProps.onQuickLookButtonTapped);\n            if (passthroughProps.onCameraChange)\n                modelViewer.removeEventListener('camera-change', passthroughProps.onCameraChange);\n            if (passthroughProps.onEnvironmentChange)\n                modelViewer.removeEventListener('environment-change', passthroughProps.onEnvironmentChange);\n            if (passthroughProps.onPlay)\n                modelViewer.removeEventListener('play', passthroughProps.onPlay);\n            if (passthroughProps.onPause)\n                modelViewer.removeEventListener('ar-status', passthroughProps.onPause);\n            if (passthroughProps.onSceneGraphReady)\n                modelViewer.removeEventListener('scene-graph-ready', passthroughProps.onSceneGraphReady);\n        };\n    }, [\n        modelViewer,\n        passthroughProps.onArStatus,\n        passthroughProps.onArTracking,\n        passthroughProps.onCameraChange,\n        passthroughProps.onEnvironmentChange,\n        passthroughProps.onError,\n        passthroughProps.onLoad,\n        passthroughProps.onModelVisibility,\n        passthroughProps.onPause,\n        passthroughProps.onPlay,\n        passthroughProps.onPreload,\n        passthroughProps.onProgress,\n        passthroughProps.onQuickLookButtonTapped,\n        passthroughProps.onSceneGraphReady,\n    ]);\n    if (modelViewerLoadedStatus !== 'done') {\n        // TODO: What do we want to display while the model-viewer library loads?\n        return null;\n    }\n    if (!data.sources?.[0]?.url) {\n        throw new Error(`<ModelViewer/> requires 'data.sources' prop to be an array, with an object that has a property 'url' on it`);\n    }\n    if (!data.alt) {\n        console.warn(`<ModelViewer/> requires the 'data.alt' prop for accessibility`);\n    }\n    return (React.createElement(\"model-viewer\", { ref: callbackRef, ...passthroughProps, class: className, id: id, src: data.sources[0].url, alt: data.alt, \"camera-controls\": passthroughProps.cameraControls ?? true, poster: passthroughProps.poster || data.previewImage?.url, autoplay: passthroughProps.autoplay ?? true, loading: passthroughProps.loading, reveal: passthroughProps.reveal, ar: passthroughProps.ar, \"ar-modes\": passthroughProps.arModes, \"ar-scale\": passthroughProps.arScale, \"ar-placement\": passthroughProps.arPlacement, \"ios-src\": passthroughProps.iosSrc, \"touch-action\": passthroughProps.touchAction, \"disable-zoom\": passthroughProps.disableZoom, \"orbit-sensitivity\": passthroughProps.orbitSensitivity, \"auto-rotate\": passthroughProps.autoRotate, \"auto-rotate-delay\": passthroughProps.autoRotateDelay, \"rotation-per-second\": passthroughProps.rotationPerSecond, \"interaction-policy\": passthroughProps.interactionPolicy, \"interaction-prompt\": passthroughProps.interactionPrompt, \"interaction-prompt-style\": passthroughProps.interactionPromptStyle, \"interaction-prompt-threshold\": passthroughProps.interactionPromptThreshold, \"camera-orbit\": passthroughProps.cameraOrbit, \"camera-target\": passthroughProps.cameraTarget, \"field-of-view\": passthroughProps.fieldOfView, \"max-camera-orbit\": passthroughProps.maxCameraOrbit, \"min-camera-orbit\": passthroughProps.minCameraOrbit, \"max-field-of-view\": passthroughProps.maxFieldOfView, \"min-field-of-view\": passthroughProps.minFieldOfView, bounds: passthroughProps.bounds, \"interpolation-decay\": passthroughProps.interpolationDecay ?? 100, \"skybox-image\": passthroughProps.skyboxImage, \"environment-image\": passthroughProps.environmentImage, exposure: passthroughProps.exposure, \"shadow-intensity\": passthroughProps.shadowIntensity ?? 0, \"shadow-softness\": passthroughProps.shadowSoftness ?? 0, \"animation-name\": passthroughProps.animationName, \"animation-crossfade-duration\": passthroughProps.animationCrossfadeDuration, \"variant-name\": passthroughProps.variantName, orientation: passthroughProps.orientation, scale: passthroughProps.scale }, children));\n}\n"],"names":["useState","useEffect","props","modelViewer","setModelViewer","undefined","callbackRef","useCallback","node","data","id","children","className","passthroughProps","modelViewerLoadedStatus","useLoadScript","module","onError","addEventListener","onLoad","onPreload","onModelVisibility","onProgress","onArStatus","onArTracking","onQuickLookButtonTapped","onCameraChange","onEnvironmentChange","onPlay","onPause","onSceneGraphReady","removeEventListener","sources","url","Error","alt","console","warn","_jsx","cameraControls","poster","previewImage","autoplay","loading","reveal","ar","arModes","arScale","arPlacement","iosSrc","touchAction","disableZoom","orbitSensitivity","autoRotate","autoRotateDelay","rotationPerSecond","interactionPolicy","interactionPrompt","interactionPromptStyle","interactionPromptThreshold","cameraOrbit","cameraTarget","fieldOfView","maxCameraOrbit","minCameraOrbit","maxFieldOfView","minFieldOfView","bounds","interpolationDecay","skyboxImage","environmentImage","exposure","shadowIntensity","shadowSoftness","animationName","animationCrossfadeDuration","variantName","orientation","scale"],"mappings":"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"}