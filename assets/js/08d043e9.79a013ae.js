"use strict";(self.webpackChunkdocs_v_1=self.webpackChunkdocs_v_1||[]).push([[9122],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>h});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=n.createContext({}),s=function(e){var t=n.useContext(i),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},c=function(e){var t=s(e.components);return n.createElement(i.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,l=e.originalType,i=e.parentName,c=u(e,["components","mdxType","originalType","parentName"]),p=s(r),f=o,h=p["".concat(i,".").concat(f)]||p[f]||m[f]||l;return r?n.createElement(h,a(a({ref:t},c),{},{components:r})):n.createElement(h,a({ref:t},c))}));function h(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var l=r.length,a=new Array(l);a[0]=f;var u={};for(var i in t)hasOwnProperty.call(t,i)&&(u[i]=t[i]);u.originalType=e,u[p]="string"==typeof e?e:o,a[1]=u;for(var s=2;s<l;s++)a[s]=r[s];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},3882:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>i,contentTitle:()=>a,default:()=>m,frontMatter:()=>l,metadata:()=>u,toc:()=>s});var n=r(7462),o=(r(7294),r(3905));const l={},a="useUrl",u={unversionedId:"hooks/global/useurl",id:"hooks/global/useurl",title:"useUrl",description:"The useUrl hook retrieves the current URL in a server or client component.",source:"@site/docs/hooks/global/useurl.md",sourceDirName:"hooks/global",slug:"/hooks/global/useurl",permalink:"/hooks/global/useurl",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"hydrogen",previous:{title:"useShopQuery",permalink:"/hooks/global/useshopquery"},next:{title:"useLocalization",permalink:"/hooks/localization/uselocalization"}},i={},s=[{value:"Example code",id:"example-code",level:2},{value:"Subscribing to the current URL value",id:"subscribing-to-the-current-url-value",level:3},{value:"Return value",id:"return-value",level:2}],c={toc:s},p="wrapper";function m(e){let{components:t,...r}=e;return(0,o.kt)(p,(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"useurl"},"useUrl"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"useUrl")," hook retrieves the current URL in a server or client component."),(0,o.kt)("h2",{id:"example-code"},"Example code"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"import {useUrl} from '@shopify/hydrogen';\n\nexport default function Page() {\n  const url = useUrl();\n\n  return <h1>Current Url is: {url.href}</h1>;\n}\n")),(0,o.kt)("h3",{id:"subscribing-to-the-current-url-value"},"Subscribing to the current URL value"),(0,o.kt)("p",null,"In client components, you can subscribe to the current value of the URL:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"import {useUrl} from '@shopify/hydrogen';\nimport {useEffect} from 'react';\n\nexport function MyClientComponent() {\n  const url = useUrl();\n\n  useEffect(() => {\n    // Do something with url\n  }, [url]);\n\n  // ...\n}\n")),(0,o.kt)("p",null,"The value of the URL will change immediately, but the page transition might not yet be completed. If you want to wait until the page is completely transitioned, then use the ",(0,o.kt)("inlineCode",{parentName:"p"},"pending")," server state hook value:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"import {useUrl, useServerProps} from '@shopify/hydrogen';\nimport {useEffect} from 'react';\n\nexport function MyClientComponent() {\n  const url = useUrl();\n  const {pending} = useServerProps();\n\n  useEffect(() => {\n    if (!pending) {\n      // Do something with url, now that the page transition has completed.\n    }\n  }, [url, pending]);\n\n  // ...\n}\n")),(0,o.kt)("h2",{id:"return-value"},"Return value"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"useUrl")," hook returns a ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/URL"},"URL")," object with the current URL."))}m.isMDXComponent=!0}}]);