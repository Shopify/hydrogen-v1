"use strict";(self.webpackChunkdocs_v_1=self.webpackChunkdocs_v_1||[]).push([[266],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>f});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=r.createContext({}),p=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},c=function(e){var n=p(e.components);return r.createElement(l.Provider,{value:n},e.children)},u="mdxType",s={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,c=d(e,["components","mdxType","originalType","parentName"]),u=p(t),m=a,f=u["".concat(l,".").concat(m)]||u[m]||s[m]||o;return t?r.createElement(f,i(i({ref:n},c),{},{components:t})):r.createElement(f,i({ref:n},c))}));function f(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=m;var d={};for(var l in n)hasOwnProperty.call(n,l)&&(d[l]=n[l]);d.originalType=e,d[u]="string"==typeof e?e:a,i[1]=d;for(var p=2;p<o;p++)i[p]=t[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},8688:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>s,frontMatter:()=>o,metadata:()=>d,toc:()=>p});var r=t(7462),a=(t(7294),t(3905));const o={},i="ProductProvider",d={unversionedId:"components/product-variant/productprovider",id:"components/product-variant/productprovider",title:"ProductProvider",description:"Note:",source:"@site/docs/components/product-variant/productprovider.md",sourceDirName:"components/product-variant",slug:"/components/product-variant/productprovider",permalink:"/components/product-variant/productprovider",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"hydrogen",previous:{title:"ProductPrice",permalink:"/components/product-variant/productprice"},next:{title:"useCart",permalink:"/hooks/cart/usecart"}},l={},p=[{value:"Example code",id:"example-code",level:2},{value:"Props",id:"props",level:2},{value:"Component type",id:"component-type",level:2},{value:"Related components",id:"related-components",level:2},{value:"Related hooks",id:"related-hooks",level:2}],c={toc:p},u="wrapper";function s(e){let{components:n,...t}=e;return(0,a.kt)(u,(0,r.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"productprovider"},"ProductProvider"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Note:\n",(0,a.kt)("inlineCode",{parentName:"p"},"ProductProvider")," is only available as part of the ",(0,a.kt)("a",{parentName:"p",href:"https://shopify.dev/custom-storefronts/react-storefront-kit"},"React Storefront Kit")," package, which is in beta. If you\u2019re building with Hydrogen, then use ",(0,a.kt)("a",{parentName:"p",href:"/components/product-variant/productoptionsprovider/"},(0,a.kt)("inlineCode",{parentName:"a"},"ProductOptionsProvider")))),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"ProductProvider")," component sets up a context with state that tracks the selected variant and options. Descendants of this component can use the ",(0,a.kt)("a",{parentName:"p",href:"/hooks/product-variant/useproductoptions/"},(0,a.kt)("inlineCode",{parentName:"a"},"useProductOptions"))," hook."),(0,a.kt)("h2",{id:"example-code"},"Example code"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"import {ProductProvider} from '@shopify/storefront-kit-react';\nimport {gql} from '@shopify/hydrogen';\n\nconst QUERY = gql`\n  query product($handle: String!, $includeReferenceMetafieldDetails: Boolean!) {\n    product: product(handle: $handle) {\n      compareAtPriceRange {\n        maxVariantPrice {\n          currencyCode\n          amount\n        }\n        minVariantPrice {\n          currencyCode\n          amount\n        }\n      }\n      descriptionHtml\n      handle\n      id\n      media(first: 10) {\n        nodes {\n          ... on MediaImage {\n            mediaContentType\n            image {\n              id\n              url\n              altText\n              width\n              height\n            }\n          }\n          ... on Video {\n            mediaContentType\n            id\n            previewImage {\n              url\n            }\n            sources {\n              mimeType\n              url\n            }\n          }\n          ... on ExternalVideo {\n            mediaContentType\n            id\n            embedUrl\n            host\n          }\n          ... on Model3d {\n            mediaContentType\n            id\n            alt\n            mediaContentType\n            previewImage {\n              url\n            }\n            sources {\n              url\n            }\n          }\n        }\n      }\n      metafields(first: 10) {\n        nodes {\n          id\n          type\n          namespace\n          key\n          value\n          createdAt\n          updatedAt\n          description\n          reference @include(if: $includeReferenceMetafieldDetails) {\n            __typename\n            ... on MediaImage {\n              id\n              mediaContentType\n              image {\n                id\n                url\n                altText\n                width\n                height\n              }\n            }\n          }\n        }\n      }\n      priceRange {\n        maxVariantPrice {\n          currencyCode\n          amount\n        }\n        minVariantPrice {\n          currencyCode\n          amount\n        }\n      }\n      title\n      variants(first: 250) {\n        nodes {\n          id\n          title\n          availableForSale\n          image {\n            id\n            url\n            altText\n            width\n            height\n          }\n          unitPriceMeasurement {\n            measuredType\n            quantityUnit\n            quantityValue\n            referenceUnit\n            referenceValue\n          }\n          unitPrice {\n            currencyCode\n            amount\n          }\n          priceV2 {\n            currencyCode\n            amount\n          }\n          compareAtPriceV2 {\n            currencyCode\n            amount\n          }\n          selectedOptions {\n            name\n            value\n          }\n          metafields(first: 10) {\n            nodes {\n              id\n              type\n              namespace\n              key\n              value\n              createdAt\n              updatedAt\n              description\n              reference @include(if: $includeReferenceMetafieldDetails) {\n                __typename\n                ... on MediaImage {\n                  id\n                  mediaContentType\n                  image {\n                    id\n                    url\n                    altText\n                    width\n                    height\n                  }\n                }\n              }\n            }\n          }\n          sellingPlanAllocations(\n            first: 10\n          ) {\n            nodes {\n              priceAdjustments {\n                compareAtPrice {\n                  currencyCode\n                  amount\n                }\n                perDeliveryPrice {\n                  currencyCode\n                  amount\n                }\n                price {\n                  currencyCode\n                  amount\n                }\n                unitPrice {\n                  currencyCode\n                  amount\n                }\n              }\n              sellingPlan {\n                id\n                description\n                name\n                options {\n                  name\n                  value\n                }\n                priceAdjustments {\n                  orderCount\n                  adjustmentValue {\n                    ... on SellingPlanFixedAmountPriceAdjustment {\n                      adjustmentAmount {\n                        currencyCode\n                        amount\n                      }\n                    }\n                    ... on SellingPlanFixedPriceAdjustment {\n                      price {\n                        currencyCode\n                        amount\n                      }\n                    }\n                    ... on SellingPlanPercentagePriceAdjustment {\n                      adjustmentPercentage\n                    }\n                  }\n                }\n                recurringDeliveries\n              }\n            }\n          }\n        }\n      }\n      sellingPlanGroups(first: 10) {\n        nodes {\n          sellingPlans(first: 10) {\n            nodes {\n              id\n              description\n              name\n              options {\n                name\n                value\n              }\n              priceAdjustments {\n                orderCount\n                adjustmentValue {\n                  ... on SellingPlanFixedAmountPriceAdjustment {\n                    adjustmentAmount {\n                      currencyCode\n                      amount\n                    }\n                  }\n                  ... on SellingPlanFixedPriceAdjustment {\n                    price {\n                      currencyCode\n                      amount\n                    }\n                  }\n                  ... on SellingPlanPercentagePriceAdjustment {\n                    adjustmentPercentage\n                  }\n                }\n              }\n              recurringDeliveries\n            }\n          }\n          appName\n          name\n          options {\n            name\n            values\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport function Product() {\n  const {data} = useShopQuery({query: QUERY, variables: { handle, includeReferenceMetafieldDetails }});\n\n  return (\n    <ProductProvider data={data.product} initialVariantId=\"some-id\">{/* Your JSX */}</ProductProvider>\n  );\n}\n")),(0,a.kt)("h2",{id:"props"},"Props"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Name"),(0,a.kt)("th",{parentName:"tr",align:null},"Type"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"children"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"ReactNode")),(0,a.kt)("td",{parentName:"tr",align:null},"A ",(0,a.kt)("inlineCode",{parentName:"td"},"ReactNode")," element.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"data"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"PartialDeep&#60;ProductType&#62;")),(0,a.kt)("td",{parentName:"tr",align:null},"An object with fields that correspond to the Storefront API's ",(0,a.kt)("a",{parentName:"td",href:"https://shopify.dev/docs/api/storefront/reference/products/product"},(0,a.kt)("inlineCode",{parentName:"a"},"Product")," object"),".")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"initialVariantId?"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"Parameters&#60;typeof useProductOption&#62;['0']['initialvariantid']")),(0,a.kt)("td",{parentName:"tr",align:null},"The initially selected variant. ",(0,a.kt)("br",null),"The following logic applies to ",(0,a.kt)("inlineCode",{parentName:"td"},"initialVariantId"),":",(0,a.kt)("ul",null,(0,a.kt)("li",null,"If ",(0,a.kt)("inlineCode",{parentName:"td"},"initialVariantId")," is provided, then it's used, even if the variant is out of stock."),(0,a.kt)("li",null,"If ",(0,a.kt)("inlineCode",{parentName:"td"},"initialVariantId")," is provided, but is ",(0,a.kt)("inlineCode",{parentName:"td"},"null"),", then no variant is used."),(0,a.kt)("li",null,"If nothing is passed to ",(0,a.kt)("inlineCode",{parentName:"td"},"initialVariantId"),", and you're in a ",(0,a.kt)("inlineCode",{parentName:"td"},"ProductProvider")," component, then ",(0,a.kt)("inlineCode",{parentName:"td"},"selectedVariant.id")," is used."),(0,a.kt)("li",null,"If nothing is passed to ",(0,a.kt)("inlineCode",{parentName:"td"},"initialVariantId")," and you're not in a ",(0,a.kt)("inlineCode",{parentName:"td"},"ProductProvider")," component, then the first available or in-stock variant is used."),(0,a.kt)("li",null,"If nothing is passed to ",(0,a.kt)("inlineCode",{parentName:"td"},"initialVariantId"),", you're not in a ",(0,a.kt)("inlineCode",{parentName:"td"},"ProductProvider")," component, and no variants are in stock, then the first variant is used.")))))),(0,a.kt)("h2",{id:"component-type"},"Component type"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"ProductProvider")," component is a client component, which means that it renders on the client. For more information about component types, refer to ",(0,a.kt)("a",{parentName:"p",href:"https://shopify.dev/custom-storefronts/hydrogen/react-server-components"},"React Server Components"),"."),(0,a.kt)("h2",{id:"related-components"},"Related components"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/components/product-variant/productprice/"},(0,a.kt)("inlineCode",{parentName:"a"},"ProductPrice"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/components/product-variant/productoptionsprovider/"},(0,a.kt)("inlineCode",{parentName:"a"},"ProductOptionsProvider")))),(0,a.kt)("h2",{id:"related-hooks"},"Related hooks"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/hooks/product-variant/useproductoptions/"},(0,a.kt)("inlineCode",{parentName:"a"},"useProductOptions")))))}s.isMDXComponent=!0}}]);