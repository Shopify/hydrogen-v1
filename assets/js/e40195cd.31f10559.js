"use strict";(self.webpackChunkdocs_v_1=self.webpackChunkdocs_v_1||[]).push([[8163],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>g});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),l=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=l(e.components);return r.createElement(c.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,s=e.originalType,c=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=l(n),h=a,g=u["".concat(c,".").concat(h)]||u[h]||d[h]||s;return n?r.createElement(g,o(o({ref:t},p),{},{components:n})):r.createElement(g,o({ref:t},p))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=n.length,o=new Array(s);o[0]=h;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[u]="string"==typeof e?e:a,o[1]=i;for(var l=2;l<s;l++)o[l]=n[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},6097:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var r=n(7462),a=(n(7294),n(3905));const s={},o="Manage static assets",i={unversionedId:"tutorials/static-assets/manage-static-assets",id:"tutorials/static-assets/manage-static-assets",title:"Manage static assets",description:"Hydrogen 2.0 is out now. These archival Hydrogen 1.0 docs are provided only to assist developers during their upgrade process. Please migrate to Hydrogen 2.0 as soon as possible.",source:"@site/docs/tutorials/static-assets/manage-static-assets.md",sourceDirName:"tutorials/static-assets",slug:"/tutorials/static-assets/manage-static-assets",permalink:"/hydrogen-v1/tutorials/static-assets/manage-static-assets",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"hydrogen",previous:{title:"Static assets",permalink:"/hydrogen-v1/tutorials/static-assets/"},next:{title:"Streaming server-side rendering (SSR)",permalink:"/hydrogen-v1/tutorials/streaming-ssr"}},c={},l=[{value:"Change the base URL",id:"change-the-base-url",level:2},{value:"Version the assets",id:"version-the-assets",level:2}],p={toc:l},u="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"manage-static-assets"},"Manage static assets"),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"Hydrogen 2.0 is out now. These archival Hydrogen 1.0 docs are provided only to assist developers during their upgrade process. Please ",(0,a.kt)("a",{parentName:"p",href:"https://shopify.dev/docs/custom-storefronts/hydrogen/migrate-hydrogen-remix"},"migrate to Hydrogen 2.0")," as soon as possible.")),(0,a.kt)("p",null,"When building your custom storefront, it can be useful to have access to static assets that aren't already hosted elsewhere, like images. This guide describes how to reference and serve static assets in Hydrogen."),(0,a.kt)("h2",{id:"change-the-base-url"},"Change the base URL"),(0,a.kt)("p",null,"If you want to serve your static assets from a different domain or path, then you can specify the ",(0,a.kt)("inlineCode",{parentName:"p"},"HYDROGEN_ASSET_BASE_URL")," environment variable when building your project."),(0,a.kt)("p",null,"For example, running the following command will cause references to ",(0,a.kt)("inlineCode",{parentName:"p"},"/icon.png")," to instead reference ",(0,a.kt)("inlineCode",{parentName:"p"},"https://mycdn.example/path/to/folder/icon.png")," in the compiled code."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"\n$ HYDROGEN_ASSET_BASE_URL=https://mycdn.example/path/to/folder yarn build\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Note:\nMake sure to check the ",(0,a.kt)("inlineCode",{parentName:"p"},"dist/client/index.html")," file to verify that the URLs point to the provided URL.")),(0,a.kt)("h2",{id:"version-the-assets"},"Version the assets"),(0,a.kt)("p",null,"If asset content hasn't changed but you want to regenerate the already-compiled assets, then you can use the following configuration:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"\n// vite.config.js\nexport default {\n  plugins: [hydrogen({assetHashVersion: 'v2'})]\n}\n")),(0,a.kt)("p",null,"The configuration adds an optional string to force all files to be recompiled with a new hash. This can be helpful when the asset is cached but you want to change the behavior of your cache or the response headers that are currently cached, such as in a CDN or user's browser."))}d.isMDXComponent=!0}}]);