<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-migrate-v2">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Migrate from Hydrogen v1 to v2 | Hydrogen v1</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://shopify.github.io/hydrogen-v1/migrate"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Migrate from Hydrogen v1 to v2 | Hydrogen v1"><meta data-rh="true" name="description" content="The recommended method for upgrading from Hydrogen v1 to  is to create a new Hydrogen project and transfer required features and assets manually."><meta data-rh="true" property="og:description" content="The recommended method for upgrading from Hydrogen v1 to  is to create a new Hydrogen project and transfer required features and assets manually."><link data-rh="true" rel="icon" href="/hydrogen-v1/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://shopify.github.io/hydrogen-v1/migrate"><link data-rh="true" rel="alternate" href="https://shopify.github.io/hydrogen-v1/migrate" hreflang="en"><link data-rh="true" rel="alternate" href="https://shopify.github.io/hydrogen-v1/migrate" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://G3N23JDU81-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Hydrogen v1" href="/hydrogen-v1/opensearch.xml"><link rel="stylesheet" href="/hydrogen-v1/assets/css/styles.d52af4a9.css">
<link rel="preload" href="/hydrogen-v1/assets/js/runtime~main.3e4dd980.js" as="script">
<link rel="preload" href="/hydrogen-v1/assets/js/main.6d44bb2f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/hydrogen-v1/"><b class="navbar__title text--truncate">Hydrogen v1</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/hydrogen-v1/">Overview</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/hydrogen-v1/tutorials">Tutorials</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/hydrogen-v1/api">API reference</a><a class="navbar__item navbar__link" href="/hydrogen-v1/migrate">Migrate to Hydrogen 2</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/shopify/hydrogen-v1" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/hydrogen-v1/">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/hydrogen-v1/migrate">Migrate to v2</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/hydrogen-v1/tutorials">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/hydrogen-v1/api">API reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;API reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/hydrogen-v1/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Migrate to v2</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Migrate from Hydrogen v1 to v2</h1><p>The recommended method for upgrading from Hydrogen v1 to  is to <a href="https://shopify.dev/docs/custom-storefronts/hydrogen/getting-started" target="_blank" rel="noopener noreferrer">create a new Hydrogen project</a> and transfer required features and assets manually.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-differences-between-hydrogen-v1-and-hydrogen-v2">Key differences between Hydrogen v1 and Hydrogen v2<a href="#key-differences-between-hydrogen-v1-and-hydrogen-v2" class="hash-link" aria-label="Direct link to Key differences between Hydrogen v1 and Hydrogen v2" title="Direct link to Key differences between Hydrogen v1 and Hydrogen v2">​</a></h2><ul><li>Hydrogen now <a href="https://hydrogen.shopify.dev/update/remixing-hydrogen" target="_blank" rel="noopener noreferrer">uses Remix as its foundational framework</a>. Remix promotes server-side rendering, web standard technologies, and principles of progressive enhancement to boost site performance. Hydrogen provides a collection of components, utilities, and design patterns that make it easier and more performant to work with Shopify APIs.</li><li>Hydrogen no longer uses React Server Components. Use <a href="https://remix.run/docs/en/main/route/loader" target="_blank" rel="noopener noreferrer">Remix loader functions</a> instead.</li><li>Since version 2023.1, Hydrogen has been <a href="https://calver.org/" target="_blank" rel="noopener noreferrer">calendar versioned</a>. This keeps Hydrogen&#x27;s features in sync with Shopify&#x27;s <a href="https://shopify.dev/docs/api/usage/versioning" target="_blank" rel="noopener noreferrer">API versioning</a>.</li></ul><p>To quickly get up to speed on Remix, we recommend completing its <a href="https://remix.run/docs/en/main/start/tutorial" target="_blank" rel="noopener noreferrer">30-minute introductory tutorial</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="routes">Routes<a href="#routes" class="hash-link" aria-label="Direct link to Routes" title="Direct link to Routes">​</a></h2><p>Remix uses <a href="https://remix.run/docs/en/main/discussion/routes" target="_blank" rel="noopener noreferrer">nested routes</a> to define the site path.</p><p>Hydrogen&#x27;s default <a href="https://github.com/Shopify/hydrogen/tree/main/templates/skeleton" target="_blank" rel="noopener noreferrer">Skeleton template</a> includes all of Shopify&#x27;s standard storefront routes. When setting up a new Hydrogen project, select the option to &quot;scaffold routes and core functionality&quot; to set up these routes autoatically.</p><p>You can also scaffold routes after the fact by <a href="https://shopify.dev/docs/api/shopify-cli/hydrogen/hydrogen-generate-routes" target="_blank" rel="noopener noreferrer">using the Hydrogen CLI</a>:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Run in your new Hydrogen project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx shopify hydrogen generate routes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For reference, this table compares some typical Hydrogen v1 route files with their Remix equivalents. However, we don&#x27;t recommend creating every file manually; the <code>generate routes</code> command is the most reliable method to create consistent results.</p><table><thead><tr><th><strong>Hydrogen v1</strong></th><th><strong>Hydrogen with Remix</strong></th></tr></thead><tbody><tr><td>index.html</td><td>root.jsx</td></tr><tr><td>robots.txt.server.js</td><td>[robots.txt]<!-- -->.jsx</td></tr><tr><td>sitemap.xml.server.ts</td><td>[sitemap.xml]<!-- -->.jsx</td></tr><tr><td>products/<!-- -->[handle]<!-- -->.server.jsx</td><td>products.$handle.jsx</td></tr><tr><td>policies/<!-- -->[handle]<!-- -->.server.jsx</td><td>policies.$handle.jsx</td></tr><tr><td>collections/<!-- -->[handle]<!-- -->.server.jsx</td><td>collections.$handle.jsx</td></tr><tr><td>pages/<!-- -->[handle]<!-- -->.server.jsx</td><td>pages.$handle.jsx</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-routes">API routes<a href="#api-routes" class="hash-link" aria-label="Direct link to API routes" title="Direct link to API routes">​</a></h3><p>In Remix, instead of a separate pattern for API routes, <code>loader</code> and <code>action</code> functions serve as the same purpose — <a href="https://remix.run/docs/en/main/guides/api-routes#routes-are-their-own-api" target="_blank" rel="noopener noreferrer">routes are their own API</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="404-route">404 route<a href="#404-route" class="hash-link" aria-label="Direct link to 404 route" title="Direct link to 404 route">​</a></h3><p>Hydrogen v1 handled 404 pages with a wildcard route defined in <code>App.server.jsx</code>. Remix also needs a wildcard route; in Remix, these are called <a href="https://remix.run/docs/en/main/file-conventions/routes#splat-routes" target="_blank" rel="noopener noreferrer">Splat Routes</a>.</p><p>A standard 404 route is generated when setting up a new Hydrogen project if you opt to <a href="#routes">scaffold the standard routes</a>. Consult the Skeleton template&#x27;s <a href="https://github.com/Shopify/hydrogen/blob/main/templates/skeleton/app/routes/%24.tsx" target="_blank" rel="noopener noreferrer">404 route file on GitHub</a> if you want to set it up yourself.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="moving-static-assets">Moving static assets<a href="#moving-static-assets" class="hash-link" aria-label="Direct link to Moving static assets" title="Direct link to Moving static assets">​</a></h2><p>Remix features two directories that can contain static assets:</p><ol><li><code>public</code> is for static files that should be uploaded directly to Shopify&#x27;s CDN without being processed by Vite. Files in this directory will be available relative to the site root when deployed. You can hard-code their paths in site files.</li><li><code>app/assets</code> is for static files that will be imported in your site files and will be processed by Vite. File names may be hashed and the files themselves may be optimized or bundled during the build process.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="css">CSS<a href="#css" class="hash-link" aria-label="Direct link to CSS" title="Direct link to CSS">​</a></h3><p>Remix uses Vite for bundling and optimization, so all of <a href="https://vitejs.dev/guide/features#css" target="_blank" rel="noopener noreferrer">Vite&#x27;s standard CSS methods</a> are available in Hydrogen.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/hydrogen-v1/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Hydrogen overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/hydrogen-v1/tutorials"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tutorials</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#key-differences-between-hydrogen-v1-and-hydrogen-v2" class="table-of-contents__link toc-highlight">Key differences between Hydrogen v1 and Hydrogen v2</a></li><li><a href="#routes" class="table-of-contents__link toc-highlight">Routes</a><ul><li><a href="#api-routes" class="table-of-contents__link toc-highlight">API routes</a></li><li><a href="#404-route" class="table-of-contents__link toc-highlight">404 route</a></li></ul></li><li><a href="#moving-static-assets" class="table-of-contents__link toc-highlight">Moving static assets</a><ul><li><a href="#css" class="table-of-contents__link toc-highlight">CSS</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://shopify.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Shopify.dev<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/shopifydevs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/shopifydevs" target="_blank" rel="noopener noreferrer" class="footer__link-item">@shopifydevs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://shopify.dev/custom-storefronts/hydrogen" target="_blank" rel="noopener noreferrer" class="footer__link-item">Hydrogen 2</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Shopify.</div></div></div></footer></div>
<script src="/hydrogen-v1/assets/js/runtime~main.3e4dd980.js"></script>
<script src="/hydrogen-v1/assets/js/main.6d44bb2f.js"></script>
</body>
</html>